(()=>{"use strict";var e={n:r=>{var a=r&&r.__esModule?()=>r.default:()=>r;return e.d(a,{a}),a},d:(r,a)=>{for(var t in a)e.o(a,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:a[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=window.wp.element,a=window.wp.i18n,t=window.wp.apiFetch;var n=e.n(t);const o=window.wp.components,l=window.ReactJSXRuntime;function s(){return(0,l.jsxs)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",stroke:"currentColor",children:[(0,l.jsx)("style",{children:"@keyframes spinner_zKoa {\n            to {\n              transform: rotate(360deg);\n            }\n          }\n\n          @keyframes spinner_YpZS {\n            0% {\n              stroke-dasharray: 0 150;\n              stroke-dashoffset: 0;\n            }\n\n            47.5% {\n              stroke-dasharray: 42 150;\n              stroke-dashoffset: -16;\n            }\n\n            95%,\n            to {\n              stroke-dasharray: 42 150;\n              stroke-dashoffset: -59;\n            }\n          }"}),(0,l.jsx)(o.G,{style:{transformOrigin:"center",animation:"spinner_zKoa 2s linear infinite"},children:(0,l.jsx)(o.Circle,{cx:"12",cy:"12",r:"9.5",fill:"none",strokeWidth:"3",style:{strokeLinecap:"round",animation:"spinner_YpZS 1.5s ease-in-out infinite"}})})]})}function i({style:e}){return(0,l.jsxs)(o.SVG,{role:"img",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 80 80",style:e,children:[(0,l.jsx)("style",{children:"\n\t\t\t\t.am-lottieplayer-path {\n\t\t\t\t\tfill: url(#a)\n\t\t\t\t}\n\t\t\t\t.block-editor-block-toolbar .am-lottieplayer-path,\n\t\t\t\t.components-panel .am-lottieplayer-path {\n\t\t\t\t\tfill: var(--wp-admin-theme-color-darker-10)\n\t\t\t\t}"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("radialGradient",{id:"a",cx:".2",cy:"1.07",r:"1.2",children:[(0,l.jsx)("stop",{offset:"10%",children:(0,l.jsx)("animate",{attributeName:"stop-color",values:"#24708f;#e18d4c;#1f374c;#85c6e0;#24708f;",dur:"12s",repeatCount:"indefinite"})}),(0,l.jsx)("stop",{offset:"90%",children:(0,l.jsx)("animate",{attributeName:"stop-color",values:"#85c6e0;#24708f;#e18d4c;#1f374c;#85c6e0;",dur:"24s",repeatCount:"indefinite"})})]})}),(0,l.jsx)(o.Path,{className:"am-lottieplayer-path",d:"M60 0H20C9 0 0 9 0 20v39.5C0 71 9 80 20 80h39.5c11 0 20.5-9 20.5-20V20C80 9 71 0 60 0zm4.9 59.7h-7.4V37.1c0-3.2.3-8.2.3-8.2h-.1s-.9 4.7-1.7 7.5l-6.8 23.3h-4l-11-30.2c-.8-2.2-2-5.8-2-5.8h-.1s-1.1 3.4-1.9 5.8L18.7 59.7H15l15-39.4h4.2l11.4 30c.3-1.4 1.2-6.1 2.4-10.2l5.6-19.8H65v39.4z"})]})}function d(){var e;const[t,o]=(0,r.useState)({am_gdpr_tracking_id:null,am_gdpr_font_family:"sans-serif",am_gdpr_color:"#000000",am_gdpr_accent_color:"#ffffff",am_gdpr_background_color:"#ffffff",am_gdpr_border_width:2,am_gdpr_text:null,am_gdpr_wp_privacy_policy_url:"privacy-policy"}),[d,c]=(0,r.useState)(!1),p=(0,r.useCallback)((async()=>{const e=await n()({path:"am-gdpr-wp-settings/v1/options"});o(e)}),[]),_=({target:e})=>{o((r=>({...r,[e.name]:e.value})))};return(0,r.useEffect)((()=>{p()}),[p]),(0,l.jsxs)("section",{className:"am-settings",children:[(0,l.jsx)("main",{children:(0,l.jsxs)("div",{className:"content",children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:".5em"},children:[(0,l.jsx)(i,{style:{width:"3em",height:"3em"}}),(0,l.jsx)("h1",{style:{marginTop:"0"},children:(0,a.__)("GDPR Settings","am-gdpr-wp")})]}),(0,l.jsxs)("form",{onSubmit:e=>{(async e=>{e.preventDefault();try{c(!0),await n()({path:"am-gdpr-wp-settings/v1/options",method:"POST",data:t})}catch(e){console.error(e)}finally{setTimeout((()=>{c(!1)}),400)}})(e)},children:[(0,l.jsxs)("fieldset",{className:"am-fieldset",children:[(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_wp_tracking_id",children:(0,a.__)("Tracking ID","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_wp_tracking_id",name:"am_gdpr_tracking_id",value:t.am_gdpr_tracking_id||"",onChange:_,type:"text",placeholder:(0,a.__)("G-XXXXXXXXXX / GTM-XXXXXXXXXX","am-gdpr-wp")}),(0,l.jsx)("span",{className:"form-helper",children:(0,a.__)("GA4 tag or Tag Manager ID","am-gdpr-wp")}),(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_wp_privacy_policy_url",children:(0,a.__)("Privacy Policy URL","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_wp_privacy_policy_url",name:"am_gdpr_wp_privacy_policy_url",value:t.am_gdpr_wp_privacy_policy_url||"",onChange:_,type:"text"})]}),(0,l.jsxs)("fieldset",{className:"am-fieldset",children:[(0,l.jsx)("h2",{style:{marginTop:"0"},children:(0,a.__)("Style","am-gdpr-wp")}),(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_font_family",children:(0,a.__)("Font Family","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_font_family",name:"am_gdpr_font_family",value:t.am_gdpr_font_family||"sans-serif",onChange:_,type:"text"}),(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_color",children:(0,a.__)("Color","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_color",name:"am_gdpr_color",value:t.am_gdpr_color||"#000000",onChange:_,type:"color"}),(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_accent_color",children:(0,a.__)("Accent Color","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_accent_color",name:"am_gdpr_accent_color",value:t.am_gdpr_accent_color||"#ffffff",onChange:_,type:"color"}),(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_background_color",children:(0,a.__)("Background Color","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_background_color",name:"am_gdpr_background_color",value:t.am_gdpr_background_color||"#ffffff",onChange:_,type:"color"}),(0,l.jsx)("label",{className:"form-label",htmlFor:"am_gdpr_border_width",children:(0,a.__)("Border Width","am-gdpr-wp")}),(0,l.jsx)("input",{id:"am_gdpr_border_width",name:"am_gdpr_border_width",value:null!==(e=t.am_gdpr_border_width)&&void 0!==e?e:2,onChange:_,type:"number"})]}),(0,l.jsx)("button",{type:"submit",className:"am-btn blue",children:d?(0,l.jsx)(s,{}):(0,a.__)("Save","am-gdpr_wp")})]})]})}),(0,l.jsx)("div",{className:"cookie-preview",children:(0,l.jsxs)("div",{className:"cookie-container",style:{fontFamily:t.am_gdpr_font_family,borderWidth:`${t.am_gdpr_border_width}px`,backgroundColor:t.am_gdpr_background_color||"#FFF",color:t.am_gdpr_color||"#000"},children:[(0,l.jsx)("h2",{style:{position:"absolute",top:"-2em"},children:(0,a.__)("Preview:","am-gdpr-wp")}),(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)("div",{"aria-describedby":"cookie-warning-text","aria-labelledby":"cookie-warning-text","aria-modal":"false",role:"dialog",children:(0,l.jsxs)("p",{className:"h3",id:"cookie-warning-text",children:[(0,a.__)("This website uses","am-gdpr-wp")," ",(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"992",height:"1024",viewBox:"0 0 992 1024",children:(0,l.jsx)("path",{d:"M810.112 4.992c-27.232 0-49.28 22.112-49.344 49.344 0 27.232 22.112 49.344 49.344 49.344s49.344-22.112 49.344-49.344c0-27.232-22.112-49.344-49.344-49.344zm13.184 429.728c-167.424 54.048-292.352-63.52-236.384-243.232-61.728-22.944-82.24-90.368-58.016-166.24C255.36 11.456 14.336 224.416.672 498.048c-13.792 273.536 196.896 506.432 470.368 520.32 273.6 13.792 506.528-196.896 520.32-470.464 1.248-24.736.672-49.184-1.664-73.088-69.952 43.008-123.84 23.52-166.432-40.032zm-575.52-35.392c40.992 0 74.176 33.248 74.176 74.176s-33.248 74.176-74.176 74.176c-40.992 0-74.176-33.248-74.176-74.176s33.248-74.176 74.176-74.176zm233.696 94.56c23.616 0 42.752 19.136 42.752 42.752s-19.136 42.752-42.752 42.752c-23.616 0-42.752-19.136-42.752-42.752-.096-23.616 19.072-42.752 42.752-42.752zM295.968 669.952c28.8 0 52.16 23.36 52.16 52.16s-23.36 52.16-52.16 52.16c-28.8 0-52.16-23.36-52.16-52.16 0-28.864 23.36-52.16 52.16-52.16zm112.384-399.008c22.624 0 40.832 18.304 40.832 40.832 0 22.624-18.304 40.832-40.832 40.832-22.624 0-40.832-18.304-40.832-40.832s18.304-40.832 40.832-40.832zm221.952 417.28c37.856 0 68.48 30.688 68.48 68.48 0 37.856-30.688 68.48-68.48 68.48-37.856 0-68.48-30.688-68.48-68.48s30.688-68.48 68.48-68.48zm144.224-492.608c25.408 0 46.048 20.64 46.048 46.048s-20.64 46.048-46.048 46.048-46.048-20.64-46.048-46.048 20.64-46.048 46.048-46.048z"})})]})}),(0,l.jsxs)("div",{className:"button-wrapper",children:[(0,l.jsx)("button",{className:"button gdpr customize",style:{color:t.am_gdpr_color||"#000",borderWidth:`${t.am_gdpr_border_width}px`,backgroundColor:"transparent"},children:(0,a.__)("Customize","am-gdpr-wp")}),(0,l.jsx)("button",{className:"button gdpr accept",style:{color:t.am_gdpr_color||"#000",borderWidth:`${t.am_gdpr_border_width}px`,backgroundColor:t.am_gdpr_accent_color||"#FFF"},children:(0,a.__)("I understand","am-gdpr-wp")})]})]})]})})]})}const c=()=>(0,l.jsx)(d,{}),p=document.getElementById("am-gdpr-wp-settings");if(!p)throw new Error("Missing root element");(0,r.createRoot)(p).render((0,l.jsx)(c,{}))})();