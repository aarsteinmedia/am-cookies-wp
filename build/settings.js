(()=>{"use strict";var e={n:a=>{var t=a&&a.__esModule?()=>a.default:()=>a;return e.d(t,{a:t}),t},d:(a,t)=>{for(var r in t)e.o(t,r)&&!e.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:t[r]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};const a=window.wp.element,t=window.wp.components,r=window.wp.i18n,n=window.wp.apiFetch;var l=e.n(n);const o=window.ReactJSXRuntime;function s(){return(0,o.jsxs)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",stroke:"currentColor",children:[(0,o.jsx)("style",{children:"@keyframes spinner_zKoa {\n            to {\n              transform: rotate(360deg);\n            }\n          }\n\n          @keyframes spinner_YpZS {\n            0% {\n              stroke-dasharray: 0 150;\n              stroke-dashoffset: 0;\n            }\n\n            47.5% {\n              stroke-dasharray: 42 150;\n              stroke-dashoffset: -16;\n            }\n\n            95%,\n            to {\n              stroke-dasharray: 42 150;\n              stroke-dashoffset: -59;\n            }\n          }"}),(0,o.jsx)(t.G,{style:{transformOrigin:"center",animation:"spinner_zKoa 2s linear infinite"},children:(0,o.jsx)(t.Circle,{cx:"12",cy:"12",r:"9.5",fill:"none",strokeWidth:"3",style:{strokeLinecap:"round",animation:"spinner_YpZS 1.5s ease-in-out infinite"}})})]})}function i({style:e}){return(0,o.jsxs)(t.SVG,{role:"img",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 80 80",style:e,children:[(0,o.jsx)("style",{children:"\n\t\t\t\t.am-lottieplayer-path {\n\t\t\t\t\tfill: url(#a)\n\t\t\t\t}\n\t\t\t\t.block-editor-block-toolbar .am-lottieplayer-path,\n\t\t\t\t.components-panel .am-lottieplayer-path {\n\t\t\t\t\tfill: var(--wp-admin-theme-color-darker-10)\n\t\t\t\t}"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("radialGradient",{id:"a",cx:".2",cy:"1.07",r:"1.2",children:[(0,o.jsx)("stop",{offset:"10%",children:(0,o.jsx)("animate",{attributeName:"stop-color",values:"#24708f;#e18d4c;#1f374c;#85c6e0;#24708f;",dur:"12s",repeatCount:"indefinite"})}),(0,o.jsx)("stop",{offset:"90%",children:(0,o.jsx)("animate",{attributeName:"stop-color",values:"#85c6e0;#24708f;#e18d4c;#1f374c;#85c6e0;",dur:"24s",repeatCount:"indefinite"})})]})}),(0,o.jsx)(t.Path,{className:"am-lottieplayer-path",d:"M60 0H20C9 0 0 9 0 20v39.5C0 71 9 80 20 80h39.5c11 0 20.5-9 20.5-20V20C80 9 71 0 60 0zm4.9 59.7h-7.4V37.1c0-3.2.3-8.2.3-8.2h-.1s-.9 4.7-1.7 7.5l-6.8 23.3h-4l-11-30.2c-.8-2.2-2-5.8-2-5.8h-.1s-1.1 3.4-1.9 5.8L18.7 59.7H15l15-39.4h4.2l11.4 30c.3-1.4 1.2-6.1 2.4-10.2l5.6-19.8H65v39.4z"})]})}let d=function(e){return e.BottomLeft="bottom-left",e.BottomRight="bottom-right",e.TopLeft="top-left",e.TopRight="top-right",e}({}),c=function(e){return e.Banner="banner",e.Box="box",e}({});function m({id:e="",onChange:a,subTitle:r,title:n,value:l}){return(0,o.jsxs)(t.BaseControl,{id:e,help:r,className:"am-switch-label",children:[(0,o.jsx)(t.BaseControl.VisualLabel,{children:n}),(0,o.jsx)(t.FormToggle,{checked:l,onChange:()=>a(!l)})]})}function p({label:e,name:r,onChange:n,value:l}){if(!r||!e)throw new Error("Missing name or label");const[s,i]=(0,a.useState)(!1);return(0,o.jsxs)("label",{className:"form-label",htmlFor:r,children:[e,(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:".5em",alignItems:"center"},children:[(0,o.jsx)(t.ColorIndicator,{colorValue:l}),(0,o.jsx)("input",{id:r,name:r,value:l,onChange:n,type:"text",onFocus:()=>i(!0)}),s&&(0,o.jsx)(t.Popover,{onFocusOutside:()=>i(!1),children:(0,o.jsx)(t.ColorPicker,{color:l,onChange:e=>n({target:{value:e,name:r}})})})]})]})}function _({data:e}){const[t,n]=(0,a.useState)({isCustomize:!1,dialogHeight:0}),l=(0,a.useRef)(null),s=e.am_gdpr_google_id?.startsWith("GTM-")||!!e.am_gdpr_meta_id||!!e.am_gdpr_snap_id||!!e.am_gdpr_tiktok_id,i=(0,a.useCallback)((({key:e})=>{t.isCustomize&&"Escape"===e&&n((e=>({...e,isCustomize:!1})))}),[t.isCustomize]);return(0,a.useEffect)((()=>{l.current&&n((e=>({...e,dialogHeight:e.isCustomize?(l.current?.offsetHeight||0)+80:0})))}),[t.isCustomize]),(0,a.useEffect)((()=>(addEventListener("keydown",i),()=>{removeEventListener("keydown",i)})),[i]),(0,o.jsxs)("div",{className:"cookie-preview",children:[(0,o.jsx)("style",{children:`.cookie-preview {\n          --border-width: ${e.am_gdpr_border_width}px;\n          --font-family: ${e.am_gdpr_font_family};\n          --color: ${e.am_gdpr_color};\n          --background-color: ${e.am_gdpr_background_color};\n          --accent-color: ${e.am_gdpr_accent_color};\n        }`}),t.isCustomize?(0,o.jsx)("div",{className:"pop-up fadeIn",lang:document.documentElement.lang,children:(0,o.jsxs)("dialog",{open:!0,style:{minHeight:`${t.dialogHeight}px`,maxHeight:`${t.dialogHeight}px`},children:[(0,o.jsx)("button",{className:"menu-button close-button","data-open":"true",onClick:()=>n((e=>({...e,isCustomize:!1}))),children:(0,o.jsx)("span",{className:"hamburger",children:(0,o.jsx)("span",{})})}),(0,o.jsxs)("div",{className:"dialog-inner-box",style:{display:"flex",flexDirection:"column"},ref:l,children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("figure",{"aria-label":"cookies",className:"icon-cookies",style:{display:"inline-flex",marginRight:"0.5em"},children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"992",height:"1024",viewBox:"0 0 992 1024",children:(0,o.jsx)("path",{d:"M810.112 4.992c-27.232 0-49.28 22.112-49.344 49.344 0 27.232 22.112 49.344 49.344 49.344s49.344-22.112 49.344-49.344c0-27.232-22.112-49.344-49.344-49.344zm13.184 429.728c-167.424 54.048-292.352-63.52-236.384-243.232-61.728-22.944-82.24-90.368-58.016-166.24C255.36 11.456 14.336 224.416.672 498.048c-13.792 273.536 196.896 506.432 470.368 520.32 273.6 13.792 506.528-196.896 520.32-470.464 1.248-24.736.672-49.184-1.664-73.088-69.952 43.008-123.84 23.52-166.432-40.032zm-575.52-35.392c40.992 0 74.176 33.248 74.176 74.176s-33.248 74.176-74.176 74.176c-40.992 0-74.176-33.248-74.176-74.176s33.248-74.176 74.176-74.176zm233.696 94.56c23.616 0 42.752 19.136 42.752 42.752s-19.136 42.752-42.752 42.752c-23.616 0-42.752-19.136-42.752-42.752-.096-23.616 19.072-42.752 42.752-42.752zM295.968 669.952c28.8 0 52.16 23.36 52.16 52.16s-23.36 52.16-52.16 52.16c-28.8 0-52.16-23.36-52.16-52.16 0-28.864 23.36-52.16 52.16-52.16zm112.384-399.008c22.624 0 40.832 18.304 40.832 40.832 0 22.624-18.304 40.832-40.832 40.832-22.624 0-40.832-18.304-40.832-40.832s18.304-40.832 40.832-40.832zm221.952 417.28c37.856 0 68.48 30.688 68.48 68.48 0 37.856-30.688 68.48-68.48 68.48-37.856 0-68.48-30.688-68.48-68.48s30.688-68.48 68.48-68.48zm144.224-492.608c25.408 0 46.048 20.64 46.048 46.048s-20.64 46.048-46.048 46.048-46.048-20.64-46.048-46.048 20.64-46.048 46.048-46.048z"})})}),(0,o.jsx)("slot",{id:"customize-header",children:(0,r.__)("Your data, your choice","am-gdpr-wp")})]}),(0,o.jsx)("p",{id:"customize-text",dangerouslySetInnerHTML:{__html:`${(0,r.__)("We use <strong>functional cookies</strong> for navigation, etc. In addition, we use <strong>statistical cookies</strong> to see how users interact with the website.","am-gpdr-wp")}${s?` ${(0,r.__)("We also use <strong>cookies for marketing.</strong","am-gdpr-wp")}`:""}`}}),(0,o.jsx)("p",{id:"customize-link",dangerouslySetInnerHTML:{__html:(0,r.__)('See our <a href=#">privacy policy</a>',"am-gdpr-wp")}}),(0,o.jsxs)("div",{id:"save-wrapper",className:"button-wrapper",children:[(0,o.jsx)("button",{onClick:()=>n((e=>({...e,isCustomize:!1}))),className:"button gdpr decline-all",style:{backgroundColor:"transparent"},children:(0,r.__)("Only functional","am-gdpr-wp")}),(0,o.jsx)("button",{onClick:()=>n((e=>({...e,isCustomize:!1}))),className:"button gdpr accept-all",children:(0,r.__)("Accept all","am-gdpr-wp")})]}),(0,o.jsxs)("div",{className:"button-wrapper",children:[(0,o.jsx)(g,{value:!0,name:"functional",label:(0,r.__)("Functional","am-gdpr-wp"),disabled:!0}),(0,o.jsx)(g,{value:!1,name:"statistical",label:(0,r.__)("Statistical","am-gdpr-wp")}),s&&(0,o.jsx)(g,{value:!1,name:"marketing",label:(0,r.__)("Marketing","am-gdpr-wp")})]})]})]})}):(0,o.jsx)("div",{className:`cookie-container ${e.am_gdpr_align} ${e.am_gdpr_format}-format`,lang:document.documentElement.lang,children:(0,o.jsxs)("div",{className:"content",children:[(0,o.jsx)("div",{"aria-describedby":"cookie-warning-text","aria-labelledby":"cookie-warning-text","aria-modal":"false",role:"dialog",children:(0,o.jsxs)("p",{className:"h3",id:"cookie-warning-text",children:[(0,r.__)("This website uses","am-gdpr-wp")," ",(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"992",height:"1024",viewBox:"0 0 992 1024",children:(0,o.jsx)("path",{d:"M810.112 4.992c-27.232 0-49.28 22.112-49.344 49.344 0 27.232 22.112 49.344 49.344 49.344s49.344-22.112 49.344-49.344c0-27.232-22.112-49.344-49.344-49.344zm13.184 429.728c-167.424 54.048-292.352-63.52-236.384-243.232-61.728-22.944-82.24-90.368-58.016-166.24C255.36 11.456 14.336 224.416.672 498.048c-13.792 273.536 196.896 506.432 470.368 520.32 273.6 13.792 506.528-196.896 520.32-470.464 1.248-24.736.672-49.184-1.664-73.088-69.952 43.008-123.84 23.52-166.432-40.032zm-575.52-35.392c40.992 0 74.176 33.248 74.176 74.176s-33.248 74.176-74.176 74.176c-40.992 0-74.176-33.248-74.176-74.176s33.248-74.176 74.176-74.176zm233.696 94.56c23.616 0 42.752 19.136 42.752 42.752s-19.136 42.752-42.752 42.752c-23.616 0-42.752-19.136-42.752-42.752-.096-23.616 19.072-42.752 42.752-42.752zM295.968 669.952c28.8 0 52.16 23.36 52.16 52.16s-23.36 52.16-52.16 52.16c-28.8 0-52.16-23.36-52.16-52.16 0-28.864 23.36-52.16 52.16-52.16zm112.384-399.008c22.624 0 40.832 18.304 40.832 40.832 0 22.624-18.304 40.832-40.832 40.832-22.624 0-40.832-18.304-40.832-40.832s18.304-40.832 40.832-40.832zm221.952 417.28c37.856 0 68.48 30.688 68.48 68.48 0 37.856-30.688 68.48-68.48 68.48-37.856 0-68.48-30.688-68.48-68.48s30.688-68.48 68.48-68.48zm144.224-492.608c25.408 0 46.048 20.64 46.048 46.048s-20.64 46.048-46.048 46.048-46.048-20.64-46.048-46.048 20.64-46.048 46.048-46.048z"})})]})}),(0,o.jsxs)("div",{className:"button-wrapper",children:[(0,o.jsx)("button",{className:"button gdpr customize",style:{backgroundColor:"transparent"},onClick:()=>n((e=>({...e,isCustomize:!0}))),children:(0,r.__)("Customize","am-gdpr-wp")}),(0,o.jsx)("button",{className:"button gdpr accept",children:(0,r.__)("I understand","am-gdpr-wp")})]})]})})]})}function g({disabled:e=!1,name:t,label:r,value:n}){const l=(0,a.useId)(),[s,i]=(0,a.useState)(n);return(0,o.jsxs)("div",{className:"container",children:[r&&(0,o.jsx)("label",{className:"textLabel",htmlFor:l,children:r}),(0,o.jsxs)("label",{className:"label",htmlFor:l,children:[(0,o.jsx)("input",{checked:s,className:"input",disabled:e,id:l,name:t,type:"checkbox",onChange:()=>i((e=>!e))}),(0,o.jsx)("span",{className:"slider"})]})]})}function h(){var e;const[n,g]=(0,a.useState)({am_gdpr_google_id:null,am_gdpr_meta_id:null,am_gdpr_snap_id:null,am_gdpr_tiktok_id:null,am_gdpr_align:d.BottomLeft,am_gdpr_format:c.Box,am_gdpr_font_family:"sans-serif",am_gdpr_color:"#000000",am_gdpr_accent_color:"#ffffff",am_gdpr_background_color:"#ffffff",am_gdpr_border_width:2,am_gdpr_text:null,am_gdpr_wp_privacy_policy_url:"privacy-policy"}),[h,u]=(0,a.useState)({loading:!1,preview:!1,tab:"tracking"}),f=(0,a.useCallback)((async()=>{const e=await l()({path:"am-gdpr-wp-settings/v1/options"});g(e)}),[]),x=({target:e})=>{g((a=>({...a,[e.name]:e.value})))};return(0,a.useEffect)((()=>{f()}),[f]),(0,o.jsxs)("section",{className:"am-gdpr-settings",children:[(0,o.jsxs)("div",{className:"am-gdpr-header-wrapper",children:[(0,o.jsxs)("header",{children:[(0,o.jsxs)("span",{style:{display:"flex",gap:".7em",alignItems:"center"},children:[(0,o.jsx)(i,{style:{width:"3em",height:"3em"}}),(0,o.jsx)("h1",{style:{margin:"0"},children:(0,r.__)("Cookies Settings","am-gdpr-wp")})]}),(0,o.jsx)(m,{id:"toggle-preview",title:(0,r.__)("Preview","am-gdpr-wp"),value:h.preview,onChange:()=>u((e=>({...e,preview:!e.preview})))})]}),(0,o.jsxs)("nav",{children:[(0,o.jsx)("a",{href:"/#tracking","data-active":"tracking"===h.tab,onClick:e=>{e.preventDefault(),u((e=>({...e,tab:"tracking"})))},children:(0,r.__)("Tracking","am-gdpr-wp")}),(0,o.jsx)("a",{href:"/#layout","data-active":"layout"===h.tab,onClick:e=>{e.preventDefault(),u((e=>({...e,tab:"layout"})))},children:(0,r.__)("Layout","am-gdpr-wp")}),(0,o.jsx)("a",{href:"/#content","data-active":"content"===h.tab,onClick:e=>{e.preventDefault(),u((e=>({...e,tab:"content"})))},children:(0,r.__)("Content","am-gdpr-wp")})]})]}),(0,o.jsx)("main",{style:{marginTop:"157px"},children:(0,o.jsx)("div",{className:"content",children:(0,o.jsxs)("form",{className:"am-gdpr-form",onSubmit:e=>{(async e=>{e.preventDefault();try{u((e=>({...e,loading:!0}))),await l()({path:"am-gdpr-wp-settings/v1/options",method:"POST",data:n})}catch(e){console.error(e)}finally{setTimeout((()=>{u((e=>({...e,loading:!1})))}),400)}})(e)},children:[(0,o.jsxs)("fieldset",{id:"tracking",hidden:"tracking"!==h.tab,className:"am-gdpr-fieldset",children:[(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_google_id",children:[(0,r.__)("Google Tracking ID","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_google_id",name:"am_gdpr_google_id",value:n.am_gdpr_google_id||"",onChange:x,type:"text"}),(0,o.jsx)("span",{className:"form-helper",children:(0,r.__)("GA4 tag or Tag Manager ID","am-gdpr-wp")})]}),(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_meta_id",children:[(0,r.__)("Meta/Facebook Pixel ID","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_meta_id",name:"am_gdpr_meta_id",value:n.am_gdpr_meta_id||"",onChange:x,type:"text",disabled:n.am_gdpr_google_id?.startsWith("GTM-")})]}),(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_snap_id",children:[(0,r.__)("SnapChat Pixel ID","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_snap_id",name:"am_gdpr_snap_id",value:n.am_gdpr_snap_id||"",onChange:x,type:"text",disabled:n.am_gdpr_google_id?.startsWith("GTM-")})]}),(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_tiktok_id",children:[(0,r.__)("TikTok ID","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_tiktok_id",name:"am_gdpr_tiktok_id",value:n.am_gdpr_tiktok_id||"",onChange:x,type:"text",disabled:n.am_gdpr_google_id?.startsWith("GTM-")})]}),(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_wp_privacy_policy_url",children:[(0,r.__)("Privacy Policy URL","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_wp_privacy_policy_url",name:"am_gdpr_wp_privacy_policy_url",value:n.am_gdpr_wp_privacy_policy_url||"",onChange:x,type:"text"})]})]}),(0,o.jsxs)("fieldset",{id:"layout",hidden:"layout"!==h.tab,className:"am-gdpr-fieldset",style:{display:"layout"===h.tab?"flex":"none",gap:"2.5em"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_font_family",children:[(0,r.__)("Font Family","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_font_family",name:"am_gdpr_font_family",value:n.am_gdpr_font_family,placeholder:"sans-serif",onChange:x,type:"text"})]}),(0,o.jsx)(p,{label:(0,r.__)("Color","am-gdpr-wp"),name:"am_gdpr_color",value:n.am_gdpr_color||"#000000",onChange:x}),(0,o.jsx)(p,{label:(0,r.__)("Accent Color","am-gdpr-wp"),name:"am_gdpr_accent_color",value:n.am_gdpr_accent_color||"#ffffff",onChange:x}),(0,o.jsx)(p,{label:(0,r.__)("Background Color","am-gdpr-wp"),name:"am_gdpr_background_color",value:n.am_gdpr_background_color||"#ffffff",onChange:x}),(0,o.jsxs)("label",{className:"form-label",htmlFor:"am_gdpr_border_width",children:[(0,r.__)("Border Width","am-gdpr-wp"),(0,o.jsx)("input",{id:"am_gdpr_border_width",name:"am_gdpr_border_width",value:null!==(e=n.am_gdpr_border_width)&&void 0!==e?e:2,onChange:x,type:"number"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(t.RadioControl,{selected:n.am_gdpr_align,onChange:e=>g((a=>({...a,am_gdpr_align:e}))),options:n.am_gdpr_format===c.Box?[{label:(0,r.__)("Bottom Left","am-gdpr-wp"),value:d.BottomLeft},{label:(0,r.__)("Bottom Right","am-gdpr-wp"),value:d.BottomRight},{label:(0,r.__)("Top Left","am-gdpr-wp"),value:d.TopLeft},{label:(0,r.__)("Top Right","am-gdpr-wp"),value:d.TopRight}]:[{label:(0,r.__)("Bottom","am-gdpr-wp"),value:d.BottomLeft},{label:(0,r.__)("Top","am-gdpr-wp"),value:d.TopLeft}],name:"am_gdpr_align",label:(0,r.__)("Align Cookie Prompt","am-gdpr-wp")}),(0,o.jsx)(t.RadioControl,{selected:n.am_gdpr_format,onChange:e=>g((a=>({...a,am_gdpr_format:e}))),options:[{label:(0,r.__)("Box","am-gdpr-wp"),value:c.Box},{label:(0,r.__)("Banner","am-gdpr-wp"),value:c.Banner}],name:"am_gdpr_format",label:(0,r.__)("Format of Cookie Prompt","am-gdpr-wp")})]})]}),(0,o.jsx)("button",{type:"submit",className:"am-btn blue",children:h.loading?(0,o.jsx)(s,{}):(0,r.__)("Save","am-gdpr-wp")})]})})}),h.preview&&(0,o.jsx)(_,{data:n})]})}const u=()=>(0,o.jsx)(h,{}),f=document.getElementById("am-gdpr-wp-settings");if(!f)throw new Error("Missing root element");(0,a.createRoot)(f).render((0,o.jsx)(u,{}))})();